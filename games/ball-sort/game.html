<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Ball Sort Puzzle - Jeu</title>
    <link rel="canonical" href="https://mini-games.ch/games/ball-sort/game.html" />
    <link rel="stylesheet" href="css/game.css" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üß™</text></svg>"
    />
  </head>
  <body>
    <!-- HUD -->
    <div class="hud">
      <div class="hud-left">
        <div class="stat-display">
          <span class="label">Coups</span>
          <span class="value" id="moves">0</span>
        </div>
      </div>

      <div class="hud-center">
        <button class="icon-button" id="undoBtn" title="Annuler (Z)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 7v6h6"></path>
            <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"></path>
          </svg>
        </button>
        <button class="icon-button" id="restartBtn" title="Recommencer (R)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
          </svg>
        </button>
        <button class="icon-button" id="pauseBtn" title="Pause (Espace)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="6" y="4" width="4" height="16"></rect>
            <rect x="14" y="4" width="4" height="16"></rect>
          </svg>
        </button>
      </div>

      <div class="hud-right">
        <div class="stat-display">
          <span class="label">Temps</span>
          <span class="value" id="time">0:00</span>
        </div>
      </div>
    </div>

    <!-- Game Container -->
    <div class="game-container">
      <div id="tubesContainer" class="tubes-container"></div>

      <!-- Overlay de pause -->
      <div class="game-overlay" id="pauseOverlay" style="display: none;">
        <div class="overlay-content">
          <h2>‚è∏Ô∏è Pause</h2>
          <button class="btn-primary" id="resumeBtn">Reprendre</button>
          <button class="btn-secondary" id="restartBtn2">Recommencer</button>
          <button class="btn-secondary" id="menuBtn">Menu</button>
        </div>
      </div>

      <!-- Overlay de victoire -->
      <div class="game-overlay" id="winOverlay" style="display: none;">
        <div class="overlay-content">
          <h2>üéâ Victoire !</h2>
          <p class="win-text">F√©licitations ! Vous avez tri√© toutes les balles !</p>
          <div class="final-stats">
            <div class="final-stat">
              <span class="stat-label">Coups</span>
              <span class="stat-value" id="finalMoves">0</span>
            </div>
            <div class="final-stat">
              <span class="stat-label">Temps</span>
              <span class="stat-value" id="finalTime">0:00</span>
            </div>
          </div>
          <button class="btn-primary" id="playAgainBtn">Rejouer</button>
          <button class="btn-secondary" id="menuBtn2">Menu</button>
        </div>
      </div>
    </div>

    <!-- Controls Info -->
    <div class="controls-info">
      <div class="control-item">
        <kbd>Click</kbd>
        <span>S√©lectionner / Verser</span>
      </div>
      <div class="control-item">
        <kbd>Z</kbd>
        <span>Annuler</span>
      </div>
      <div class="control-item">
        <kbd>R</kbd>
        <span>Recommencer</span>
      </div>
      <div class="control-item">
        <kbd>Espace</kbd>
        <span>Pause</span>
      </div>
    </div>

    <script type="module" src="js/game.js"></script>
    <script type="module" src="../../js/countPlayedTime.js"></script>
  </body>
</html>